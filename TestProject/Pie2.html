<!DOCTYPE html>
<html>
<head>
    <title>Pie2</title>
    <script src="d3/d3.min.js"></script>
    <meta charset="utf-8" />
</head>
<body>

    <p><a href="/index.html">Hjem</a></p>

    <script>
        var dataset = [
            { label: "Abulia", count: 10 },
            { label: "Betelgeuse", count: 20 },
            { label: "Cantaloupe", count: 30 },
            { label: "Dijkstra", count: 40 }];

        var width = 360;
        var height = 360;
        var radius = Math.min(width, height) / 2;

        var donutWidth = 75;
        

        var color = d3.scaleOrdinal(d3.schemeCategory20b);

        var svg = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate(" + (width / 2) + "," + (height / 2) + ")");

       
        var arc = d3.arc()
           .innerRadius(radius - donutWidth)
           .outerRadius(radius);


        var pie = d3.pie()
            .value(function (d) { return d.count; })
            .sort(null);

        d3.csv('Content/ParkingTickets.csv', function (error, dataset) {  // NEW
            dataset.forEach(function (d) {                    // NEW
                d.count = +d.count;                            // NEW
            });

            var path = svg.selectAll("path")
                .data(pie(dataset))
                .enter()
                .append("path")
                .attr("d", arc)
                .attr("fill", function (d, i) { return color(d.data.label); });

        });
       







    </script>

</body>
</html>
